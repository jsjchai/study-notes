### 数据编码与演化

#### 数据编码格式
1. 在内存中，数据保存在对象、结构体、列表、数组、哈希表和树等结构中。这些数据结构针对CPU的高效访问和操作进行了优化（通常使用指针）
2. 将数据写入文件或通过网络发送时，必须将其编码为某种自包含的字节序列（json）
3. 序列化、反序列化
4. 不同的语言有不同序列化格式，如：java.io.Serializable，Python的pickle
#### JSON、xml与二进制变体
##### json、xml和csv文本格式的缺点
* 数字编码有很多模糊之处。在xml和csv,无法区分数字和由数字组成的字符串（除了引用外部模式），json不区分整数和浮点数，并且不指定精度
* 不支持二进制字符串
* csv需要定义字段含义，xml和json需要模式支持
* 相比于二进制格式，占用大量的空间
##### 二进制编码
* thrift与protocol buffers
* avro
#### 数据流
* 基于数据库的数据流
* 基于服务的数据流：REST和RPC
  * 网络服务 REST强调简单的数据格式，使用URL来标识资源，并使用http功能进行缓存控制、身份验证和内容类型协商
  * 远程调用RPC 将远程网络服务发出的请求看起来与在同一进程中调用编程语言的函数或方法相同
    * 本地调用是可以预测的，网络请求受到网络影响会丢失
    * 本地方法会返回结果或异常，或者陷入死循环。网络请求会超时
    * 网络请求重试，可能实际已完成，只是响应丢失了
    * 网络请求比方法调用慢的多，延迟比较大
    * 网络请求需要将参数序列化
    * RPC框架必须支持将数据类型从一种语言转成另外一种语言
    * RPC框架支持服务发现
  * 基于消息传递的数据流（消息队列）
  * 消息代理
  * 分布式Actor框架
