### 可见性
  * 在同步的情况下，编译器、处理器及运行时等都有可能对操作的执行顺序进行一些意想不到的调整
  * 同步-避免看到失效数据
  * 非原子的64位操作 long double
  * 加锁
  * volatile
     * volatile变量不会被缓存在寄存器或对其他处理器不可见的地方
     * 编译器和运行时这个变量都是共享的
     * 不加锁，比synchronized关键字更轻量级的同步机制
     * 不能保证原子性，只能保证可见性
### 线程封闭
> 当访问共享的可变数据时，通常需要使用同步。一种避免使用同步的方式就是不共享数据。如果仅在单线程内访问数据，就不需要同步。
* Ad-hoc线程封闭
 > 维护线程封闭性的职责完全由程序实现来承担（volatile 或 局部变量）
* 栈封闭（程序内部使用或线程局部使用）
 > 将局部变量的固有属性封闭在执行线程中，其他线程无法访问这个栈
* ThreadLocal
 > 使线程中的某个值与保存值的对象关联起来，ThreadLoacl提供了get和set方法，这些方法为每个使用该变量的线程都保存了一份独立的副本，因此get
 方法总是返回由当前执行线程在调用set时设置的最新值。常用于单例变量或全局变量进行共享
### 不变性
> 不可变的对象一定是安全的
* final 
* 不可变对象提供一种弱形式的原子性
### 多个线程间共享对象
