# 锁的优化及注意事项
## 提高锁性能
* 减少锁持有的时间
  * 锁持有时间过长，导致等待线程大量增加
  * 降低锁冲突的可能性
* 减小锁粒度
  * 削弱多线程锁竞争
* 用读写分离锁来替换独占锁
  * ReadWriteLock
  * 读多写少
* 锁分离 ？
* 锁粗化
  * 如果对同一个锁不停地进行请求、同步和释放，其本身也会消耗系统宝贵的资源，反而不利于性能的优化
  * 锁粗化-虚拟机在遇到一连串连续地对同一个锁不断进行请求和释放的操作时，便会把所有的锁操作整合成对锁的一次请求，从而减少对锁的请求同步的次数
## java虚拟机对锁的优化

